window.ASTC={version:"1.2.04",RGBToHex:function(o){void 0===o&&(o="rgb(255,255,255)");let t=o.indexOf(",")>-1?",":" ",r=(+(o=o.substr(4).split(")")[0].split(t))[0]).toString(16),n=(+o[1]).toString(16),e=(+o[2]).toString(16);return 1==r.length&&(r="0"+r),1==n.length&&(n="0"+n),1==e.length&&(e="0"+e),"#"+r+n+e},str_split:function(o,t){return o.match(new RegExp("[^]{"+parseInt(t||"1",10)+"}","g"))},getContrast:function(o){if(3==(o=o.replace("#","")).length){var t=str_split(o,1);o="",t.each((function(r){o+=t[r]+t[r]}))}var r=parseInt(o,16),n=[255&r>>16,255&r>>8,255&r];return contrast=(Math.round(299*n[0])+Math.round(587*n[1])+Math.round(114*n[2]))/1e3,contrast},checkColor:function(o){return!(ASTC.getContrast(o)>=125)},checkColorBtn:function(o){return!(ASTC.getContrast(o)>=180)},getContrastColor:function(o){return ASTC.checkColor(o)?"#000000":"#ffffff"},makeDarkOrLight:function(o){var t=$("#b_"+o),r=t.css("background-color");"rgba(0, 0, 0, 0)"!=r&&((r=ASTC.RGBToHex(r))&&ASTC.checkColor(r)?t.addClass("dark"):t.removeClass("dark")),$(".bg_color").length&&t.find(".bg_color").each((function(){var o=$(this).css("display"),t=$(this).css("background-color");"rgba(0, 0, 0, 0)"!=t&&((t=ASTC.RGBToHex(t))&&ASTC.checkColor(t)&&"none"!=o?$(this).parent().addClass("dark"):t&&!ASTC.checkColor(t)&&"block"==o&&$(this).parent().addClass("light"))})),t.find(".bg_right, .form_bg_color, .col_bg, .menu1 ul").each((function(){var o=$(this),t=o.css("background-color");"rgba(0, 0, 0, 0)"==t&&o.closest(".text_block").length>0&&(t=o.closest(".text_block").css("background-color")),"rgba(0, 0, 0, 0)"==t&&(t=o.closest(".section").css("background-color")),"rgba(0, 0, 0, 0)"!=t&&((t=ASTC.RGBToHex(t))&&ASTC.checkColor(t)?o.parent().addClass("dark"):o.parent().removeClass("dark"))})),t.find(".extra_info_block, .text_block, .col_3, .col_4, .txt_and_btn, .table .line, .icon_layer, .tile, .content-tile, .content-text").each((function(){var o=$(this),t=o.css("background-color");"rgba(0, 0, 0, 0)"==t&&o.closest(".text_block").length>0&&(t=o.closest(".text_block").css("background-color")),"rgba(0, 0, 0, 0)"==t&&(t=o.closest(".section").css("background-color")),"rgba(0, 0, 0, 0)"!=t&&((t=ASTC.RGBToHex(t))&&ASTC.checkColor(t)?o.addClass("dark"):o.removeClass("dark"))}))},makeDarkOrLightBTNs:function(o){$("#b_"+o).find(".surround, .cookie_btn, .section1011 .next").each((function(){var o=$(this),t=o.css("background-color");"rgba(0, 0, 0, 0)"!=t&&(t=ASTC.RGBToHex(t),o.hasClass("surround")?t&&ASTC.checkColorBtn(t)&&o.addClass("dark"):t&&ASTC.checkColor(t)&&o.addClass("dark"))}))},checkSectionsColor:function(){$(".section").each((function(){var o=$(this).data("id");ASTC.getImageContrastColor(o),ASTC.makeDarkOrLight(o),ASTC.makeDarkOrLightBTNs(o)}))},checkBackgroundImageInUse:function(o){var t=$("#b_"+o).css("background-image");return!(!t||"undefined"==t||null==t||"none"==t||t.indexOf("null.png")>-1||t.indexOf("linear-gradient")>-1)},getImageContrastColor:function(o){if(!ASTC.checkBackgroundImageInUse(o))return!1;var t=$("#b_"+o),r=t.css("background-image").match(/url\(["']?([^"']*)["']?\)/)[1];if(t.find(".back_dark").length>0){var n=ASTC.getAverageBackgroundColor(t.children(".back_dark"));if("rgba(0, 0, 0, 0)"!=n){if(!(n=ASTC.RGBToHex(n))||!ASTC.checkColor(n))return!1;t.addClass("dark")}}var e=new Image;e.src=r,e.style.display="none",document.body.appendChild(e),e.onload=function(){var o=document.createElement("canvas"),r=o.getContext("2d");o.width=e.width,o.height=e.height,r.drawImage(e,0,0),e.remove();var n=r.getImageData(0,0,o.width,o.height).data,a=4*(100*o.width+960),c=n[a],s=n[a+1],i=n[a+2],l=(n[a+3],"#"+((1<<24)+(c<<16)+(s<<8)+i).toString(16).slice(1));return!!ASTC.isValidHexColor(l)&&"#000000"!=l&&(l&&ASTC.checkColor(l)?t.addClass("dark"):t.removeClass("dark"),void t.find(".bg_right, .form_bg_color, .col_bg").each((function(){var o=$(this).css("opacity");l&&ASTC.checkColor(l)&&o<.5&&$(this).parent().addClass("dark")})))}},checkSubstring:function(o,t){return!!o.includes(t)},isValidHexColor:function(o){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(o)},getAverageBackgroundColor:function(o){for(var t=[],r=(o.css("background-image").replace(/.*gradient\(/,"").replace(/\)/,"").replace(/rgba?\([^\)]+\)/g,(function(o){t.push(o)})),[]),n=0;n<t.length;n++){var e=t[n].replace(/rgba?\(/,"").replace(/\)/,"").split(",");r[0]=(r[0]||0)+parseInt(e[0],10),r[1]=(r[1]||0)+parseInt(e[1],10),r[2]=(r[2]||0)+parseInt(e[2],10)}return r[0]=Math.round(r[0]/t.length),r[1]=Math.round(r[1]/t.length),r[2]=Math.round(r[2]/t.length),"rgb("+r.join(",")+")"}},$((function(){ASTC.checkSectionsColor(),$("body").on("change mouseover mouseout","input.choose_bg_color, .surround",(function(){ASTC.checkSectionsColor()})),setInterval((function(){$(".cke_editable li").each((function(o){var t=$(this),r=t.find("*").css("font-size"),n=t.find("*").css("color");t.css("font-size",r),t.css("color",n)}))}),500);var o=$(".clip_influx:not(.clip_none)").length;$(".clip_influx:not(.clip_none)").each((function(t){var r=$(this),n=15+o-t,e=Math.round(-1*r.outerHeight()*.06,1)+"px";r.attr("style",r.attr("style")+"; --cliped-margin-bottom: "+e),r.css("z-index",n)}))}));